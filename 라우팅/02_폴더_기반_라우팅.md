# Next.js가 폴더 기반 라우팅을 하는 이유

> 이 글에선 Next.js가 폴더 기반 라우팅을 하는 이유를 간단하게 알아본다.

## 라우팅이 필요한 이유
우선 React 와 비교해 라우팅이 필요한 이유를 살펴보자

React 에선 라우팅을 기본적으로 제공하지 않는다. SPA 특성상 일반적으로 한 개의 HTML 파일을 사용하기 때문에 페이지 구분이 필수적이지 않다.

반면 Next.js 는 SSG/SSR/ISR 을 사용하기 위해 페이지 구분이 필수적이다.

### React 도 페이지를 구분하지 않나요?
React 는 기본적으로 하나의 HTML 파일을 가진다. 서버의 관점에서 본다면, 사용자가 어떤 경로로 접근하더라도 항상 같은 HTML 파일을 제공하면 된다. HTML 에 포함된 JS 에서 어떤 UI 를 렌더링 할지 결정할 뿐이다.

Next.js 는 렌더링 방식에 따라 서버 측에서 각 페이지마다 고유한 HTML 이나 JSON 파일을 제공해야 한다.
- SSG: 빌드 시점에 각 페이지의 HTML 파일을 생성한다.
- SSR: 요청이 들어올 때마다 HTML 파일을 생성한다.
- ISR: SSG 와 유사하게 HTML 을 미리 생성하지만, 조건에 따라 주기적으로 갱신한다.

## 다양한 라우팅 방법

### 명시적 라우팅
명시적 라우팅은 애플리케이션의 라우팅 규칙을 코드 내에서 선언적으로 정의하는 방식이다. 주로 JSX나 특정 템플릿 문법을 사용하여 URL 경로와 해당 경로에 렌더링될 컴포넌트 또는 뷰를 명확하게 연결한다.

### 코드 기반 라우팅
코드 기반 라우팅은 애플리케이션의 라우팅 규칙과 로직을 명령형으로 정의하는 방식이다. 특정 URL 경로에 어떤 기능을 연결할지 코드로 직접 작성하고 제어한다.


### 데코레이터 라우팅
데코레이터 라우팅은 애플리케이션의 라우팅 규칙을 코드 내에서 선언적으로 정의하는 방식이다. 데코레이터 문법을 활용하여 함수나 클래스에 URL 경로 정보를 주석처럼 붙여서 라우팅 규칙을 정의한다.

### 폴더 기반 라우팅
폴더 기반 라우팅은 파일 시스템의 디렉토리 구조를 그대로 애플리케이션의 URL 경로로 사용하는 방식이다. 특정 디렉토리 내에 파일을 생성하면, 해당 파일의 위치와 이름이 자동으로 웹 경로에 매핑된다. 이는 설정 파일을 별도로 만들 필요 없이 파일 구조만으로 라우팅을 정의할 수 있게 해준다.

## 폴더 기반 라우팅을 사용하는 이유
폴더 기반 라우팅은 다른 방식에 비해 많은 장점이 있다.

- 직관성: 폴더 경로를 통해 직관적으로 페이지 구조를 알 수 있다.
- 개발 용이: 페이지 구분을 위해 별도의 코드를 작성하지 않아도 된다.
- 일관성: 페이지 구분을 위한 규칙이 존재하기 때문에 규모가 커져도 일관성을 유지하기 쉽다.
- 코드 분할: 각 페이지 별로 코드가 분할되기 때문에 성능 향상에 도움이 된다.
- 쉬운 협업: 이런 장점들은 협업을 쉽게 만들어준다.